<!-- Vista TURNOS (partial) - se inyecta dentro de #main-content -->
<div id="turnos-view" data-view="turnos">

  <!-- ===================== -->
  <!-- ESTILOS -->
  <!-- ===================== -->
  <style>
    :root {
      --tw-brand:#7656b0;
      --tw-brand2:#a490d7;
      --tw-ink:#381e60;
      --tw-muted:#6b6480;
      --tw-card:#fff;
      --tw-line:#ece5fc;
      --tw-accent:#0b5394;
      --tw-ok:#0a7d38;
      --tw-okbg:#e8fff0;
      --tw-danger:#b00020;
      --tw-warn:#8a5800;
      --tw-warnbg:#fff4e6;
    }
    #turnos-view{font-family:'Segoe UI',Arial,sans-serif;color:var(--tw-ink);}
    /* üëâ copi√° ac√° TODO el CSS que ya ten√≠as (toolbar, calendario, modal, etc.) */
  </style>

  <!-- ===================== -->
  <!-- TOOLBAR -->
  <!-- ===================== -->
  <div class="tw-toolbar">
    <div class="tw-field">
      <label>Centro m√©dico</label>
      <select id="turnos-centro-select" class="tw-sel" style="display:none;"></select>
      <input id="turnos-centro-nombre" class="tw-inp" type="text" readonly style="display:none;">
    </div>
    <div class="tw-field">
      <label>Profesional</label>
      <select id="turnos-profesional-select" class="tw-sel"><option>Cargando...</option></select>
    </div>
    <div class="tw-field">
      <label>Paciente</label>
      <input id="turnos-paciente-input" class="tw-inp" placeholder="Apellido Nombre o DNI" autocomplete="off">
      <div id="turnos-paciente-suggest" class="tw-suggest" style="display:none;"></div>
      <div id="turnos-paciente-chip" class="tw-chip" style="display:none;">
        <span id="turnos-paciente-chip-text"></span>
        <button id="turnos-paciente-clear" title="Quitar">‚úï</button>
      </div>
    </div>
    <div class="tw-field">
      <label>Tipo de turno</label>
      <select id="turnos-tipo" class="tw-sel">
        <option value="nueva_consulta">Nueva consulta</option>
        <option value="recurrente">Recurrente</option>
        <option value="sobreturno">Sobreturno</option>
      </select>
    </div>
    <div class="tw-field" style="align-items:flex-end">
      <button id="turnos-btn-hoy" class="tw-btn ghost">Hoy</button>
    </div>
  </div>

  <!-- ===================== -->
  <!-- CABECERA CALENDARIO -->
  <!-- ===================== -->
  <div class="tw-head">
    <div class="tw-head-left">
      <button id="turnos-prev-month" class="tw-btn secondary" title="Mes anterior">‚óÄ</button>
      <h2 id="turnos-cal-title">Calendario</h2>
      <button id="turnos-next-month" class="tw-btn secondary" title="Mes siguiente">‚ñ∂</button>
    </div>
    <div class="tw-legend">
      <span class="tw-dot free"></span> con disponibilidad
      <span class="tw-dot busy"></span> sin hueco
      <span class="tw-dot none"></span> sin agenda
    </div>
  </div>

  <!-- ===================== -->
  <!-- CALENDARIO -->
  <!-- ===================== -->
  <div class="tw-cal">
    <div class="tw-dow" id="turnos-cal-dow"></div>
    <div class="tw-grid" id="turnos-cal-grid"></div>
  </div>
  <div class="tw-status" id="turnos-status"></div>

  <!-- ===================== -->
  <!-- MODAL D√çA -->
  <!-- ===================== -->
  <div class="tw-backdrop" id="turnos-modal">
    <div class="tw-modal">
      <div class="tw-modal-header">
        <h3 id="turnos-modal-title" class="tw-modal-title">Turnos del d√≠a</h3>
        <div class="tw-day-nav">
          <button class="tw-icon-btn" id="turnos-modal-prev-day" data-tip="D√≠a anterior">‚óÄ</button>
          <input type="date" id="turnos-modal-date" class="tw-inp tw-date">
          <button class="tw-icon-btn" id="turnos-modal-next-day" data-tip="D√≠a siguiente">‚ñ∂</button>
          <div id="turnos-mini-cal" class="tw-mini" aria-label="Disponibilidad del mes"></div>
        </div>
        <button class="tw-close" id="turnos-modal-close">√ó</button>
      </div>
      <section class="tw-slots">
        <h4>Horarios</h4>
        <div id="turnos-slots-list"></div>
      </section>
    </div>
  </div>

  <!-- ===================== -->
  <!-- MODAL OK -->
  <!-- ===================== -->
  <div class="tw-backdrop" id="turnos-modal-ok" style="display:none;">
    <div class="tw-modal-ok">
      <div class="tw-modal-header">
        <div class="tw-ok-head">
          <div class="tw-ok-badge">‚úî Turno asignado</div>
          <div id="ok-title" class="tw-ok-title"></div>
        </div>
        <button class="tw-close" id="ok-close">√ó</button>
      </div>
      <ul class="tw-ok-list">
        <li><b>Paciente:</b> <span id="ok-paciente"></span></li>
        <li><b>DNI:</b> <span id="ok-dni"></span></li>
        <li><b>Fecha y hora:</b> <span id="ok-fecha-hora"></span></li>
        <li><b>Profesional:</b> <span id="ok-prof"></span></li>
        <li><b>Centro:</b> <span id="ok-centro"></span></li>
        <li><b>Direcci√≥n:</b> <span id="ok-direccion"></span></li>
      </ul>
      <div class="tw-ok-actions">
        <a id="ok-wa-link" class="tw-btn ok" target="_blank" rel="noopener">Enviar por WhatsApp</a>
        <button id="ok-copy" class="tw-btn ghost">Copiar link</button>
        <span id="ok-msg" class="tw-hint"></span>
      </div>
    </div>
  </div>

  <!-- ===================== -->
  <!-- MODAL CUPO AGOTADO -->
  <!-- ===================== -->
  <div id="modal-cupo-agotado" class="modal-cupo-agotado" style="display:none;">
    <div class="modal-content">
      <div class="modal-header-alert">
        <span class="icon-alert">‚ö†Ô∏è</span>
        <span class="modal-title">Cupo agotado para obra social</span>
      </div>
      <div class="modal-body">
        <p id="modal-cupo-msg">
          No quedan cupos disponibles para la obra social seleccionada.<br>
          ¬øDesea reservar el turno de forma <b>particular</b>?<br>
          El mismo tiene un costo de <b id="modal-cupo-copago">$0</b>.
        </p>
      </div>
      <div class="modal-actions">
        <button id="modal-cupo-aceptar" class="btn-accept">Aceptar</button>
        <button id="modal-cupo-cancelar" class="btn-cancel">Cancelar</button>
      </div>
    </div>
  </div>

</div>

<!-- ===================== -->
<!-- SCRIPT PRINCIPAL -->
<!-- ===================== -->
<script type="module" src="./turnos.js"></script>
