<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Inicio — EG Health Solutions</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./app.css">
  <link rel="stylesheet" href="./inicio.css">
</head>
<body>
<div class="shell">
  <section class="panel" id="inicio-root">

    <!-- Toolbar COMPACTA (sin “Centro médico” y sin chip resumen) -->
    <div class="toolbar">
      <!-- Buscador global -->
      <div class="search-wrap">
        <input id="mass-search" class="inp" placeholder="Buscar por DNI o Apellido (en toda la vista)"/>
        <button id="mass-clear" class="search-clear" title="Limpiar">✖️</button>
      </div>

      <!-- Profesional -->
      <div class="field">
        <label>Profesional</label>
        <select id="prof-select" class="sel compact"><option>Profesional</option></select>
      </div>

      <!-- Fecha -->
      <div class="field">
        <label>Fecha</label>
        <input id="fecha" type="date" class="inp"/>
      </div>

      <!-- Hoy -->
      <div class="field" style="align-items:flex-end">
        <button id="btn-hoy" class="btn secondary">Hoy</button>
      </div>

      <!-- Derecha: Horas libres (mini) + Zoom compacto -->
      <div class="toolbar-aux">
        <div class="chip mini"><span>Horas libres</span> <span class="v" id="kpi-free">0 min</span></div>

        <div class="zoom-chip compact" id="zoom-chip" aria-label="Tamaño de fuente">
          <button class="zoom-btn" id="zoom-dec" title="Reducir tamaño (A–)" type="button">A−</button>
          <button class="zoom-btn" id="zoom-reset" title="Restablecer tamaño (A)" type="button">A</button>
          <button class="zoom-btn" id="zoom-inc" title="Aumentar tamaño (A+)" type="button">A+</button>
        </div>
      </div>
    </div>

<!-- Panel lateral de turno -->
<aside id="turnoPanel" class="turno-panel" aria-hidden="true">

  <div class="tp-section tp-head">
    <div class="tp-title">
      <h3 id="tp-title">Paciente</h3>
      <button id="tp-close" class="icon-btn" aria-label="Cerrar">✕</button>
    </div>
    <div class="tp-sub">
      <span id="tp-sub">DNI —</span>
      <span class="dot">•</span>
      <span id="tp-hora">Turno: —</span>
    </div>
  </div>

  <div class="tp-section">
    <h4 class="tp-h4">Estado del turno</h4>
    <div class="tp-chips">
      <span id="tp-estado" class="chip">—</span>
      <span id="tp-copago" class="chip">Sin copago</span>
    </div>
    <div class="tp-actions">
      <button id="tp-arribo" class="btn" disabled>Pasar a En espera</button>
      <button id="tp-atender" class="btn">En atención</button>
      <button id="tp-finalizar" class="btn" style="display:none;">Finalizar</button>
      <button id="tp-cancel" class="btn ghost">Anular turno</button>
    </div>
  </div>

  <div class="tp-section">
    <h4 class="tp-h4">Pago</h4>
    <div class="tp-row">
      <div id="tp-copago-info">Total / Pagado / Pendiente</div>
    </div>
    <div class="tp-actions">
      <button id="tp-pago" class="btn">Registrar pago</button>
    </div>
  </div>

  <!-- Comentario de recepción -->
 <div class="tp-section">
   <h4 class="tp-h4">Comentario de recepción</h4>
   <div class="tp-row">
     <textarea id="tp-com-recep" class="inp" placeholder="Notas rápidas para recepción…" style="min-height:70px"></textarea>
   </div>
 </div>

  <div class="tp-section">
    <h4 class="tp-h4">Acciones</h4>
    <div class="tp-actions">
      <button id="tp-ficha" class="btn ghost">Abrir ficha</button>
      <button id="tp-guardar" class="btn ghost">Guardar comentario</button>
    </div>
  </div>

</aside>

    
    <!-- Boards -->
    <div class="boards" id="boards">
      <div class="board" data-board="pend">
      <h3 id="h-pend">
        <span id="hl-pend">Por llegar</span>
        <span class="b-ctrls">
          <button class="b-ctrl b-ctrl--grow" title="Ampliar/Restaurar fila" aria-label="Ampliar o restaurar fila">⬍</button>
          <button class="b-ctrl b-ctrl--expand" title="Expandir" aria-label="Expandir tablero">⛶</button>
          <button class="b-ctrl b-ctrl--collapse" title="Cerrar" aria-label="Cerrar expansión">✖️</button>
        </span>
      </h3>
        <div class="board-body"><table class="table" id="tbl-pend"></table></div>
      </div>
      <div class="board" data-board="esp">
        <h3 id="h-esp"><span id="hl-esp">En sala de espera</span>
          <span class="b-ctrls">
            <button class="b-ctrl b-ctrl--grow" title="Ampliar/Restaurar fila">⬍</button>
            <button class="b-ctrl b-ctrl--expand" title="Expandir">⛶</button>
            <button class="b-ctrl b-ctrl--collapse" title="Cerrar">✖️</button>
          </span>
        </h3>
        <div class="board-body"><table class="table" id="tbl-esp"></table></div>
      </div>
      <div class="board" data-board="atencion">
        <h3 id="h-atencion"><span id="hl-atencion">En atención</span>
          <span class="b-ctrls">
            <button class="b-ctrl b-ctrl--grow" title="Ampliar/Restaurar fila">⬍</button>
            <button class="b-ctrl b-ctrl--expand" title="Expandir">⛶</button>
            <button class="b-ctrl b-ctrl--collapse" title="Cerrar">✖️</button>
          </span>
        </h3>
        <div class="board-body"><table class="table" id="tbl-atencion"></table></div>
      </div>
      <div class="board" data-board="done">
        <h3 id="h-done"><span id="hl-done">Atendidos</span>
          <span class="b-ctrls">
            <button class="b-ctrl b-ctrl--grow" title="Ampliar/Restaurar fila">⬍</button>
            <button class="b-ctrl b-ctrl--expand" title="Expandir">⛶</button>
            <button class="b-ctrl b-ctrl--collapse" title="Cerrar">✖️</button>
          </span>
        </h3>
        <div class="board-body"><table class="table" id="tbl-done"></table></div>
      </div>
    </div>

    <!-- Drawer Ficha Paciente -->
    <aside id="fichaDrawer" class="drawer" aria-hidden="true">
      <header class="drawer-head">
        <div style="display:flex;flex-direction:column;gap:2px;min-width:0">
          <div id="fd-title" class="drawer-title">Ficha paciente: —</div>
          <div id="fd-sub" class="drawer-sub">dni — / — años</div>
          <div id="fd-os-year" class="drawer-sub">Turnos OS en el año: —</div>
        </div>
        <span style="flex:1"></span>
        <a id="fd-hc" class="hc-link hc-link-big" href="#" target="_blank" rel="noopener" style="display:none">
          <svg class="hc-ico" width="18" height="18" viewBox="0 0 24 24" aria-hidden="true"><path d="M14 2V8h6" fill="currentColor"/></svg>
          <span>Ver historia clínica</span>
        </a>
        <button id="fd-close" class="icon" title="Cerrar">✖️</button>
      </header>

      <div class="drawer-body">
        <div id="fd-status" class="msg" style="margin-bottom:8px"></div>

        <div class="stats" id="fd-summary" style="margin-bottom:10px">
          <div class="chip" id="fd-prof">Prof: —</div>
          <div class="chip" id="fd-centro">Centro: —</div>
          <div class="chip" id="fd-fecha">Fecha: —</div>
          <div class="chip" id="fd-hora">Hora turno: —</div>
          <div class="chip" id="fd-estado">Estado: —</div>
          <div class="chip" id="fd-copago">Copago: —</div>
          <div class="chip" id="fd-importe">Importe pagado: —</div>
          <div class="chip" id="fd-medio">Medio: —</div>
          <div class="chip" id="fd-estado-pago">Estado pago: —</div>
        </div>

        <div class="card">
          <h4>Datos del paciente</h4>
          <div class="row3">
            <div class="field"><label>DNI</label><input id="fd-dni" class="inp"></div>
            <div class="field"><label>Apellido</label><input id="fd-apellido" class="inp"></div>
            <div class="field"><label>Nombre</label><input id="fd-nombre" class="inp"></div>
          </div>
          <div class="row3" style="margin-top:10px">
            <div class="field"><label>Fecha de nacimiento</label><input id="fd-nac" type="date" class="inp"></div>
            <div class="field"><label>Teléfono</label><input id="fd-tel" class="inp"></div>
            <div class="field"><label>Email</label><input id="fd-mail" class="inp"></div>
          </div>
        </div>

        <div class="card">
          <h4>Obra social</h4>
          <div class="row3">
            <div class="field">
              <label>Obra social</label>
              <select id="fd-obra" class="sel"></select>
            </div>
            <div class="field"><label>N° afiliado</label><input id="fd-afiliado" class="inp"></div>
            <div class="field">
              <label>Credencial (URL)</label>
              <div style="display:flex;gap:8px;align-items:center">
                <input id="fd-cred" class="inp" placeholder="https://..." />
                <a id="fd-cred-link" class="btn secondary" href="#" target="_blank" rel="noopener">Ver</a>
              </div>
            </div>
          </div>
        </div>

        <!-- Historia clínica (siempre visible) -->
      <div class="card">
        <h4>Historia clínica</h4>
        <div class="field">
          <label for="fd-hc-link">Link historia clínica</label>
          <input
            type="url"
            id="fd-hc-link"
            class="inp"
            placeholder="https://..."
            autocomplete="off"
          />
          <small class="hint">Pegá acá el enlace a la historia clínica del paciente. El botón “Ver historia clínica” del encabezado usa este link.</small>
        </div>
      </div>


     <div class="card">
          <h4>Contacto de emergencia</h4>
          <div class="row2">
            <div class="field"><label>Nombre</label><input id="fd-ec-nom" class="inp" /></div>
            <div class="field"><label>Apellido</label><input id="fd-ec-ape" class="inp" /></div>
          </div>
          <div class="row2" style="margin-top:10px">
            <div class="field"><label>Celular</label><input id="fd-ec-cel" class="inp" /></div>
            <div class="field"><label>Vínculo</label><input id="fd-ec-vin" class="inp" /></div>
          </div>
        </div>

        <div class="card">
          <h4>Seguimiento</h4>
          <div class="row3">
            <div class="field"><label>Próximo control</label><input id="fd-prox" type="date" class="inp" /></div>
            <div class="field"><label>Renovación de receta</label><input id="fd-renov" type="date" class="inp" /></div>
            <div class="field" style="display:flex;align-items:center;gap:8px;margin-top:22px">
              <input id="fd-activo" type="checkbox" /><label for="fd-activo">Activo</label>
            </div>
          </div>
        </div>

        <div class="card">
          <h4>Notas del turno</h4>
          <div class="field"><textarea id="fd-notas" class="inp" placeholder="Observaciones internas..." style="min-height:80px"></textarea></div>
        </div>

      </div>

      <footer class="drawer-foot">
        <span id="fd-msg" class="msg"></span>
        <button id="fd-cerrar" class="btn secondary">Cerrar</button>
        <button id="fd-guardar" class="btn">Guardar cambios</button>
        <button id="fd-finalizar" class="btn">Finalizar</button>
      </footer>
    </aside>

  </section>
</div>


  
<!-- Tu lógica va aparte en inicio.js -->
<script type="module" src="./inicio.js"></script>
</body>
</html>
